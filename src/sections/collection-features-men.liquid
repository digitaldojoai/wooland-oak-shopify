<section data-section-id='{{ section.id }}' data-section-type='collection-features-section'>
  <script id='collectionFeatures' type='text/template'>
    [
      {% for block in section.blocks %}
        {% assign feature = block.settings %}
        {
          "title": {{ feature.title | json }},
          "image": {{ feature.image | json }},
          "url": {{ feature.url | json }},
          "background": {{ feature.background | json }}
        }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
  </script>
</section>

{% schema %}
  {
    "name": "Interstitial features",
    "settings": [],
    "blocks": [
      {
        "type": "feature",
        "name": "Feature",
        "settings": [
          {
            "type": "textarea",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "url",
            "id": "url",
            "label": "URL"
          },
          {
            "type": "color",
            "id": "background",
            "label": "Background color"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          }
        ]
      }
    ]
  }
{% endschema %}
